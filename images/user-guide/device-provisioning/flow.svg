<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="886" height="580"><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="886" height="580"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="320.57929255755863" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Device Provisioning Flow</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 245.47567054886719 88.511670804 L 245.47567054886719 580.075634724" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 607.1994398348047 88.511670804 L 607.1994398348047 580.075634724" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 206.71589158678907 47.799317964000004 L 284.23544951094533 47.799317964000004 L 284.23544951094533 88.511670804 L 206.71589158678907 88.511670804 L 206.71589158678907 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="223.07622596878906" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Device</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 549.2892092125703 47.799317964000004 L 665.1096704570391 47.799317964000004 L 665.1096704570391 88.511670804 L 549.2892092125703 88.511670804 L 549.2892092125703 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="565.6495435945703" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ThingsBoard</text></g></g><g><g><g><rect fill="white" stroke="none" x="263.31873876886715" y="118.668969204" width="123.46249856859374" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="263.31873876886715" y="133.747618404" width="326.0376328459375" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="265.58053614886717" y="132.239753484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Provision Request</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="265.58053614886717" y="147.318402684" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{ provison key, secret,[device name, credentials] }</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 245.47567054886719 153.34986236400002 L 594.7846853268047 153.34986236400002" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(607.1994398348047,153.34986236400002) translate(-607.1994398348047,-153.34986236400002)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 594.6338988348047 147.06709186400002 L 607.1994398348047 153.34986236400002 L 594.6338988348047 159.63263286400002 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 607.1994398348047 200.847607344 L 614.7387644348047 200.847607344 M 614.7387644348047 175.967836164 L 865.8082418601173 175.967836164 L 879.3790261401173 189.538620444 L 879.3790261401173 225.72737852400002 L 614.7387644348047 225.72737852400002 L 614.7387644348047 175.967836164 M 865.8082418601173 175.967836164 L 865.8082418601173 189.538620444 L 879.3790261401173 189.538620444" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="635.8488733148047" y="197.07794504400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ThingsBoard validates the request</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="635.8488733148047" y="212.15659424400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">using the provisioning strategy</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 607.1994398348047 273.225123504 L 614.7387644348047 273.225123504 M 614.7387644348047 248.34535232399998 L 863.3607626120704 248.34535232399998 L 876.9315468920704 261.916136604 L 876.9315468920704 298.104894684 L 614.7387644348047 298.104894684 L 614.7387644348047 248.34535232399998 M 863.3607626120704 248.34535232399998 L 863.3607626120704 261.916136604 L 876.9315468920704 261.916136604" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="635.8488733148047" y="269.455461204" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ThingsBoard validates that device</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="635.8488733148047" y="284.534110404" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">was not yet registered</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 607.1994398348047 345.60263966400004 L 614.7387644348047 345.60263966400004 M 614.7387644348047 320.722868484 L 784.3329458396094 320.722868484 L 797.9037301196093 334.293652764 L 797.9037301196093 370.482410844 L 614.7387644348047 370.482410844 L 614.7387644348047 320.722868484 M 784.3329458396094 320.722868484 L 784.3329458396094 334.293652764 L 797.9037301196093 334.293652764" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="635.8488733148047" y="341.83297736400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Generates and stores</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="635.8488733148047" y="356.911626564" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">device credentials</text></g><g><g><rect fill="white" stroke="none" x="358.90267736749996" y="393.10038464400003" width="134.86975564867188" height="19.602243960000003"/></g><g><rect fill="white" stroke="none" x="358.90267736749996" y="408.17903384400006" width="116.14868631273437" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="361.1644747475" y="406.6711689240001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Provision Response</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="361.1644747475" y="421.74981812400006" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">{new credentials}</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 607.1994398348047 427.781277804 L 257.8904250568672 427.781277804" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(245.47567054886719,427.781277804) translate(-245.47567054886719,-427.781277804)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 258.0412115488672 421.498507304 L 245.47567054886719 427.781277804 L 258.0412115488672 434.06404830400004 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 245.47567054886719 467.739698184 L 237.9363459488672 467.739698184 M 7.5393246000000005 450.399251604 L 224.3655616688672 450.399251604 L 237.9363459488672 463.970035884 L 237.9363459488672 485.080144764 L 7.5393246000000005 485.080144764 L 7.5393246000000005 450.399251604 M 224.3655616688672 450.399251604 L 224.3655616688672 463.970035884 L 237.9363459488672 463.970035884" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="28.64943348" y="471.509360484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Device stores the credentials</text></g><g><g><rect fill="white" stroke="none" x="328.7600382073437" y="507.69811856399997" width="195.15503396898438" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="331.02183558734373" y="521.268902844" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Connect with new credentials</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 245.47567054886719 527.300362524 L 594.7846853268047 527.300362524" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(607.1994398348047,527.300362524) translate(-607.1994398348047,-527.300362524)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 594.6338988348047 521.017592024 L 607.1994398348047 527.300362524 L 594.6338988348047 533.583133024 Z"/></g></g></g><g/><g/></g></svg>